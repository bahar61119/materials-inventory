<script>
    class SettingsService {
        static updateSetting(key, value) {
            let data = { key, value };
            API.updateSetting(
                data,
                dataReturned => {
                    SettingsViewService.loadSettingsTabView(key);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Add")
                            .withMessage(`Successfully added (${value})`)
                            .withType(AlertOptions.Type.SUCCESS)
                    );
                },
                error => {
                    console.error(error);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Add Error")
                            .withMessage(error.message)
                            .withType(AlertOptions.Type.DANGER)
                    );
                }
            );
        }

        static deleteSetting(key, value) {
            let data = { key, value };
            API.deleteSetting(
                data,
                dataReturned => {
                    SettingsViewService.loadSettingsTabView(key);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Remove")
                            .withMessage(`Successfully removed (${value})`)
                            .withType(AlertOptions.Type.SUCCESS)
                    );
                },
                error => {
                    console.error(error);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Remove Error")
                            .withMessage(error.message)
                            .withType(AlertOptions.Type.DANGER)
                    );
                }
            );
        }
    }
</script>