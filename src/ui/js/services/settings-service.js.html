<script>
    class SettingsService {
        static addAuthorizeUser(email, role) {
            let authorizeUser = {email, role};
            API.addAuthorizeUser(
                authorizeUser,
                dataReturned => {
                    SettingsViewService.loadSettingsAuthorizationView();
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Add Authorize User")
                            .withMessage(`Successfully added authorize user(${email})`)
                            .withType(AlertOptions.Type.SUCCESS)
                    );
                },
                error => {
                    console.error(error);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Add Authorize User Error")
                            .withMessage(error.message)
                            .withType(AlertOptions.Type.DANGER)
                    );
                }
            );
        }

        static updateAuthorizeUser(email, role) {
            let authorizeUser = {email, role};
            API.updateAuthorizeUser(
                authorizeUser,
                dataReturned => {
                    SettingsViewService.loadSettingsAuthorizationView();
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Update Authorize User")
                            .withMessage(`Successfully updated authorize user(${email})`)
                            .withType(AlertOptions.Type.SUCCESS)
                    );
                },
                error => {
                    console.error(error);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Add Authorize User Error")
                            .withMessage(error.message)
                            .withType(AlertOptions.Type.DANGER)
                    );
                }
            );
        }

        static deleteAuthorizeUser(email) {
            API.deleteAuthorizeUser(
                email,
                dataReturned => {
                    SettingsViewService.loadSettingsAuthorizationView();
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Remove Authorize User")
                            .withMessage(`Successfully removed authorize user(${email})`)
                            .withType(AlertOptions.Type.SUCCESS)
                    );
                },
                error => {
                    console.error(error);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Remove Authorize User Error")
                            .withMessage(error.message)
                            .withType(AlertOptions.Type.DANGER)
                    );
                }
            );
        }

        static updateSetting(tab, value) {
            let data = { tab, value };
            API.updateSetting(
                data,
                dataReturned => {
                    SettingsViewService.loadSettingsTabView(tab);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Add")
                            .withMessage(`Successfully added (${value})`)
                            .withType(AlertOptions.Type.SUCCESS)
                    );
                },
                error => {
                    console.error(error);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Add Error")
                            .withMessage(error.message)
                            .withType(AlertOptions.Type.DANGER)
                    );
                }
            );
        }

        static deleteSetting(tab, value) {
            let data = { tab, value };
            API.deleteSetting(
                data,
                dataReturned => {
                    SettingsViewService.loadSettingsTabView(tab);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Remove")
                            .withMessage(`Successfully removed (${value})`)
                            .withType(AlertOptions.Type.SUCCESS)
                    );
                },
                error => {
                    console.error(error);
                    Alert.show(
                        AlertOptions.of()
                            .withTitle("Remove Error")
                            .withMessage(error.message)
                            .withType(AlertOptions.Type.DANGER)
                    );
                }
            );
        }
    }
</script>