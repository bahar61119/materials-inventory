<script>
    class EventHandlerService {
        static inputEventHandler(event) {
            if(event.target.matches(`#${ElementId.Supplier.SUPPLIER_LIST_SEARCH}`)) {
                SupplierService.searchSupplier(); 
            }
        }

        static clickEventHandler(event) {
            let supplierDeleteButton = event.target.closest(`button.${ElementClass.Supplier.DELETE_BUTTON}`);
            let supplierEditButton = event.target.closest(`button.${ElementClass.Supplier.EDIT_BUTTON}`);

            if(supplierDeleteButton) {
                EventHandlerService.#deleteSupplier(supplierDeleteButton);
            } else if(supplierEditButton) {
                EventHandlerService.#editSupplier(supplierEditButton);
            }
        }

        static #deleteSupplier(supplierDeleteButton) {
            let supplier = JSON.parse(supplierDeleteButton.dataset.supplier);
                let options = ConfirmationModalOptions.of()
                                .withTitle("Delete Supplier")
                                .withMessage(`Are you sure you want to delete supplier ${supplier.supplierName} (ID: ${supplier.supplierId})?`)
                                .withCallback(()=>SupplierService.deleteSupplier(supplier.supplierId))
                                .withType(ConfirmationModalOptions.Type.DANGER);
                ConfirmationModal.show(options);
        }

        static #editSupplier(supplierEditButton) {
            let supplier = JSON.parse(supplierEditButton.dataset.supplier);
                let options = ConfirmationModalOptions.of()
                                .withTitle("Edit Supplier")
                                .withMessage(`Are you sure you want to edit supplier ${supplier.supplierName} (ID: ${supplier.supplierId})?`)
                                .withCallback(()=>SupplierService.editSupplier(supplier.supplierId))
                                .withType(ConfirmationModalOptions.Type.WARNING);
                ConfirmationModal.show(options);
        }
    }
</script>