<script>
    class Spinner {
        static view(flag) {
            if(flag) {
                $(`.${ElementClass.Component.SPINNER}`).removeClass('d-none');
                $(`.${ElementClass.Component.SPINNER_OVERLAY}`).addClass('modal-backdrop fade show');
            } else {
                $(`.${ElementClass.Component.SPINNER}`).addClass('d-none');
                $(`.${ElementClass.Component.SPINNER_OVERLAY}`).removeClass('modal-backdrop fade show');
            }
        } 

        static show() {
            scroll(0,0);
            Spinner.view(true);
        }

        static hide() {
            Spinner.view(false);
        }
    }

    class Alert {
        static #setAlert() {
            let alert = document.getElementById(ElementId.Component.ALERT);
            let template = document.getElementById(ElementId.Component.ALERT_TEMPLATE).content;
            alert.innerHTML = "";
            alert.appendChild(template.cloneNode(true));
        }

        static show(options) {
            Alert.#setAlert();
            $(`#${ElementId.Component.CONFIRMATION_MODAL_BUTTON}`).removeClass (function (index, className) {
                return (className.match (/\balert-\S+/g) || []).join(' ');
            });
            $(`.${ElementClass.Component.ALERT}`).addClass(`alert-${options.type} alert-dismissible`);
            $(`#${ElementId.Component.ALERT_TITLE}`).text(options.title);
            $(`#${ElementId.Component.ALERT_MESSAGE}`).text(options.message);
            scroll(0,0);
        }

        static hide() {
            $(`#${ElementId.Component.ALERT}`).empty();
        }
    }

    class ConfirmationModal {
        static #setOptions(options) {
            $(`#${ElementId.Component.CONFIRMATION_MODAL_TITLE}`).text(options.title);
            $(`#${ElementId.Component.CONFIRMATION_MODAL_MESSAGE}`).text(options.message);
            $(`#${ElementId.Component.CONFIRMATION_MODAL_BUTTON}`).data("callback", options.callback);
            $(`#${ElementId.Component.CONFIRMATION_MODAL_BUTTON}`).removeClass (function (index, className) {
                return (className.match (/\bbtn-\S+/g) || []).join(' ');
            });
            $(`#${ElementId.Component.CONFIRMATION_MODAL_BUTTON}`).addClass(`btn-${options.type}`);
        }

        static #clearOptions() {
            $(`#${ElementId.Component.CONFIRMATION_MODAL_TITLE}`).text("");
            $(`#${ElementId.Component.CONFIRMATION_MODAL_MESSAGE}`).text("");
            $(`#${ElementId.Component.CONFIRMATION_MODAL_BUTTON}`).data("callback", ()=>{});
            $(`#${ElementId.Component.CONFIRMATION_MODAL_BUTTON}`).removeClass (function (index, className) {
                return (className.match (/\bbtn-\S+/g) || []).join(' ');
            });
        }

        static show(options) {
            ConfirmationModal.#setOptions(options);
            $(`#${ElementId.Component.CONFIRMATION_MODAL}`).modal('show');
        }

        static hide() {
            ConfirmationModal.#clearOptions();
            $(`#${ElementId.Component.CONFIRMATION_MODAL}`).modal('hide');
        }

        static #callback() {
            $(`#${ElementId.Component.CONFIRMATION_MODAL_BUTTON}`).data().callback();
        }

        static confirm() {
            ConfirmationModal.#callback();
            ConfirmationModal.hide();
        }
    }
</script>